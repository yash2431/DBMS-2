---------------------------------PART-A----------------------------------------------
-- Create the Customers table
CREATE TABLE Customers (
 Customer_id INT PRIMARY KEY,
 Customer_Name VARCHAR(250) NOT NULL,
 Email VARCHAR(50) UNIQUE
);
-- Create the Orders table
CREATE TABLE Orders (
 Order_id INT PRIMARY KEY,
 Customer_id INT,
 Order_date DATE NOT NULL,
 FOREIGN KEY (Customer_id) REFERENCES Customers(Customer_id)
);

--1. Handle Divide by Zero Error and Print message like: Error occurs that is - Divide by zero error.BEGIN TRY	DECLARE @S1 INT = 10, @S2 INT = 0, @RESULT INT;	SET @RESULT = @S1/@S2	PRINT @RESULTEND TRYBEGIN CATCH	PRINT 'ZERO DIVISION ERROR'END CATCH--2. Try to convert string to integer and handle the error using try…catch block.BEGIN TRY	DECLARE @S1 VARCHAR(50) = 'ABC';	SET @S1 = CAST(@S1 AS INT)	PRINT @S1END TRYBEGIN CATCH	PRINT 'CONVERSION ERROR'END CATCH--3. Create a procedure that prints the sum of two numbers: take both numbers as integer & handle exception with all error functions if any one enters string value in numbers otherwise print result.CREATE OR ALTER PROCEDURE PR_SUMOFTWONNUMBERS	@N1 VARCHAR(50),	@N2 VARCHAR(50)ASBEGIN	BEGIN TRY		DECLARE @ANS INT;		SET @ANS = CAST(@N1 AS INT) + CAST(@N2 AS INT)		PRINT @ANS	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_SUMOFTWONNUMBERS 'BCD','ABC'--4. Handle a Primary Key Violation while inserting data into customers table and print the error details such as the error message, error number, severity, and state.CREATE OR ALTER PROCEDURE PR_PRIMARYKEY	@ID INT,	@CNAME VARCHAR(250),	@EMAIL VARCHAR(50)ASBEGIN	BEGIN TRY		INSERT INTO Customers VALUES(@ID,@CNAME,@EMAIL)	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_PRIMARYKEY 101,'LKAF','DGFV'EXEC PR_PRIMARYKEY 101,'SDJFIHF','ASFHHF'--5. Throw custom exception using stored procedure which accepts Customer_id as input & that throws Error like no Customer_id is available in database.CREATE OR ALTER PROCEDURE PR_CUSTOMERID	@CUSTOMER_ID INTASBEGIN	BEGIN TRY		IF NOT EXISTS (SELECT CUSTOMER_ID FROM Customers WHERE Customer_id = @CUSTOMER_ID)			THROW 50001,'No Customer_id is available in database',20	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_CUSTOMERID 105-------------------------------------------PART-B-------------------------------------------------------------6. Handle a Foreign Key Violation while inserting data into Orders table and print appropriate error message.CREATE OR ALTER PROCEDURE PR_FOREIGNKEY	@ORDERID INT,	@CUSTOMERID INT,	@ORDERDATE DATEASBEGIN	BEGIN TRY		INSERT INTO ORDERS VALUES(@ORDERID,@CUSTOMERID,@ORDERDATE)	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_FOREIGNKEY 1,101,'1998-05-02'EXEC PR_FOREIGNKEY 3,102,'1998-03-03'SELECT * FROM CUSTOMERSSELECT * FROM ORDERS--7. Throw custom exception that throws error if the data is invalid.CREATE OR ALTER PROCEDURE PR_CUSTOMEXCEPTION	@ID INT,	@CNAME VARCHAR(250),	@EMAIL VARCHAR(50)ASBEGIN	BEGIN TRY		INSERT INTO CUSTOMERS VALUES(@ID,@CNAME,@EMAIL);		IF (@ID=@ID AND @CNAME=@CNAME AND @EMAIL=@EMAIL)			THROW 50002,'THE DATA IS INVALID',20	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_CUSTOMEXCEPTION 'ABC',123,456--8. Create a Procedure to Update Customer’s Email with Error HandlingCREATE OR ALTER PROCEDURE PR_CUSTOMUPDATE	@ID INT,	@EMAIL VARCHAR(50)ASBEGIN	BEGIN TRY		UPDATE CUSTOMERS		SET Email = @EMAIL		WHERE Customer_id = @ID	END TRY	BEGIN CATCH		PRINT ERROR_MESSAGE()		PRINT ERROR_STATE()		PRINT ERROR_SEVERITY()		PRINT ERROR_NUMBER()		PRINT ERROR_LINE()		PRINT ERROR_PROCEDURE()	END CATCHENDEXEC PR_CUSTOMUPDATE 1,'KSAKCF'